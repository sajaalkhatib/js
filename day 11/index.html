<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        table{
            max-width: 300px; 
            justify-self:left;
        }
    </style>
    
    <title>Book List</title>
</head>
<body>

<div class="container ">
    <h1 class="text-left ">Book List</h1>
    <table id="container" class="table table-bordered table-striped">
        <thead class="bg-primary">
            <tr  >
                <th>ID</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be inserted here dynamically using finction getAllBooks -->
        </tbody>
    </table>
</div>

<script>
    let url = 'https://677f67de0476123f76a64435.mockapi.io/books'; //url API 

    let container = document.getElementById("container").querySelector('tbody'); //// Get the <tbody> element inside the table and dynamically fill it with data


    async function getAllBooks() { // Like calling  Link API using fetch (Function)
        let responseAwait = await fetch(url); //A request is sent to the server using fetch(url)
        //  to fetch the data and the await keyword is used to make the code wait. The response is 
        // stored in the response Await variable.

        let data = await responseAwait.json(); 
        console.log(data); //The server response Await is converted to a JavaScript object using 
        // response Await.json() and waited for completion using await.

     
        data.forEach(element => { //Each item in the data is iterated over using forEach, where a new row is 
        // added to the content inside the container element using innerHTML. 
            container.innerHTML += `
                <tr>
                    <td>${element.id}</td>
                    <td>${element.name}</td>
                </tr>
            `;
        });
    }


    getAllBooks(); //call function getAllBooks
</script>

</body>
</html>
